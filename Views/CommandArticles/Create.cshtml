@model Colibri.Models.CommandArticle

@{
    ViewBag.Title = "Create";
    Layout = "~/Views/Shared/_Layout.cshtml";
    var unities = (List<Colibri.Models.Unity>)ViewData["Unities"];
    var command = (Colibri.Models.Command)ViewData["Command"];
}
@Scripts.Render("~/Content/CommandArticlesCreateScript");

<h3>Rajouter des articles à la commande du @command.Date</h3>


@using (Html.BeginForm()) 
{
    @Html.AntiForgeryToken()
    
<div>
    <div id="noArticle">
        <span>Aucun article sur la commande.</span>
    </div>
    <div id="articlesList">
        <table>
            <thead>
                <tr>
                    <th>Article</th>
                    <th>Quantité</th>
                    <th>Unité</th>
                    <th>Supprimer</th>
                </tr>
            </thead>
            <tbody id="tableBodyArticle">
            </tbody>
        </table>
    </div>
    <br />
    <div id="article_form">
        <div>
            <label>Nom de l'article : </label>
            <input type="text" id="articleNameInput"/>
            <label>Quantité : </label>
            <input type="number" id="articleQuantityInput" min="0" value="0"/>
            <label>Unité :</label>
            <select id="articleUnitySelect">
                @foreach (var unity in unities)
                {
                    <option value="@unity.Id">@unity.Name (@unity.Code)</option>
                }
            </select>
        </div>

        <div>
            <button class="Add_Button" id="AddArticleButton" type="button">Ajouter cet article</button><button class="Cancel_Button" id="CancelArticleFormButton" type="button">Annuler</button>
        </div>
    </div>
    <button type="button" class="Add_Button" id="CreateArticleFormButton">Rajouter un article</button>
</div>
}

